<h1 id="title" class="title">Login</h1>
<p class="sub-title">Olá! Faça o login com seu e-mail.</p>

<!-- <nb-alert *ngIf="showMessages.error && errors?.length && !submitted" outline="danger" role="alert">
  <p class="alert-title"><b>Oh snap!</b></p>
  <ul class="alert-message-list">
    <li *ngFor="let error of errors" class="alert-message">{{ error }}</li>
  </ul>
</nb-alert>

<nb-alert *ngIf="showMessages.success && messages?.length && !submitted" outline="success" role="alert">
  <p class="alert-title"><b>Hooray!</b></p>
  <ul class="alert-message-list">
    <li *ngFor="let message of messages" class="alert-message">{{ message }}</li>
  </ul>
</nb-alert> -->

<form [formGroup]="loginForm" (submit)="login()" aria-labelledby="title">

  <div class="form-control-group">
    <label class="label" for="input-email">Email:</label>
    <input nbInput fullWidth formControlName="email" name="email" id="input-email" pattern=".+@.+\..+" [status]="email.dirty ? (email.invalid  ? 'danger' : 'success') : ''"
      [attr.aria-invalid]="email.invalid && email.touched ? true : null" placeholder="email@gmail.com" autofocus>
    <ng-container *ngIf="email.invalid && email.touched">
      <p class="error-message" *ngIf="!!email.errors.required">
        Email é obrigatório!
      </p>
      <p class="error-message" *ngIf="!!email.errors.pattern">
        Email deve ser válido!
      </p>
    </ng-container>
  </div>

  <div class="form-control-group">
    <label class="label" for="input-password">Senha:</label>
    <input nbInput fullWidth formControlName="password" name="password" type="password" id="input-password" [status]="password.dirty ? (password.invalid  ? 'danger' : 'success') : ''"
      [attr.aria-invalid]="password.invalid && password.touched ? true : null" placeholder="Senha">
    <ng-container *ngIf="password.invalid && password.touched ">
      <p class="error-message" *ngIf="!!password.errors.required">
        Senha é obrigatória!
      </p>
      <p class="error-message" *ngIf="!!password.errors.minlength || !!password.touched">
        Senha deve ter no mínimo 8 caracteres!
      </p>
    </ng-container>
  </div>

  <div class="form-control-group accept-group">
    <!-- <nb-checkbox name="rememberMe" [(ngModel)]="user.rememberMe" *ngIf="rememberMe">Lembrar de mim</nb-checkbox> -->
    <a class="forgot-password" routerLink="../request-password">Esqueceu a senha?</a>
  </div>

  <button type="submit" nbButton status="success" [disabled]="!loginForm.valid" fullWidth style="cursor: pointer;">
    Entrar
  </button>
</form>
