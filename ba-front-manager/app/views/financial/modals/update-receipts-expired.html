<div class="modal-header">
    <div class="col-md-12">
        <h3 class="pull-left pt-0 mt-0">Atualizar Boletos</h3>
        <button type="button" class="close pull-right" ng-click="close()"><span aria-hidden="true">&times;</span></button>
    </div>
</div>

<div class="modal-body" id="to-billet-modal" style="height: 50% !important">
    <div class="row">
        <div class="col-md-6">
            <div class="input-group">
                <label><h4>Vencimento</h4></label>
                <input  class="form-control"
                        data-provide="datepicker"
                        data-date-container="#to-billet-modal"
                        data-date-start-date="0d"
                        data-date-format="dd/mm/yyyy"
                        data-language="pt-BR"
                        ng-model="due_date"
                        required />
            </div>
        </div>

        <div class="col-md-6">
            <div class="input-group pull-right">
                <label style="width: 100%"><h4 class="display-block">&nbsp;</h4></label>
                <button style="margin-right: 10px"
                        title="Atualizar"
                        id="update-receipt-btn"
                        class="btn btn-danger"
                        ng-click="send()"
                        ng-if="!sended"
                        ng-disabled="sending">
                    {{sending ? 'Atualizando' : 'Atualizar'}}
                </button>
                <button style="margin-right: 10px"
                        class="btn btn-default"
                        ng-click="close()"
                        ng-if="sended">
                    Concluir
                </button>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-12">
            <h4>Boletos</h4>
            <ul class="list-unstyled">
                <table class="table table-condensed table-reduced">
                    <tr>
                        <th>ID</th>
                        <th>REF</th>
                        <th>Vencimento</th>
                        <th></th>
                    </tr>
                    <tr ng-repeat="receipt in receipts">
                        <td>{{receipt.id}}</td>
                        <td>{{receipt.reference}}</td>
                        <td>{{receipt.due_date | date:'dd/MM/yy' }}</td>
                        <th class="-align-right">
                            <span ng-if="!receipt.due_date_updated && !receipt.updating">Atualizar</span>
                            <span ng-if="receipt.due_date_updated && !receipt.updating_error">Atualizado</span>
                            <span ng-if="!receipt.updating && receipt.updating_error">{{receipt.updating_error}}</span>
                            <span ng-if="!receipt.due_date_updated && receipt.updating"><i class="fa fa-spinner fa-spin"></i></span>
                        </th>
                    </tr>
                </table>
            </ul>
        </div>
    </div>
</div>
